<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Animating an Element</title>
    <style>
      .box {
        position: absolute;
        left: 0;
        transition: left 2s ease-in-out, font-size 1s ease-in-out,
          border-radius 2s ease-in-out, background-color 1s ease-in-out;
        height: 200px;
        width: fit-content;
        font-size: 2em;
        background-color: goldenrod;
      }
      .box.state-2 {
        background-color: red;
        left: calc(100% - 100px);
        font-size: 3em;
        border-radius: 3em;
        transition: left 2s ease-in-out font-size 1s ease-in-out,
          border-radius 2s ease-in-out, background-color 1s ease-in-out;
      }
    </style>
  </head>
  <body>
    <button id="toggle-btn">Toggle State</button>
    <div id="box" class="box">
      <p id="text">State 1</p>
    </div>
    <script>
      const button = document.getElementById("toggle-btn")

      button.addEventListener("click", function () {
        const box = document.getElementById("box")
        const text = document.getElementById("text")
        document.startViewTransition(() => {
          if (box.classList.contains("state-2")) {
            box.classList.remove("state-2")
            text.innerHTML = "State 1"
          } else {
            box.classList.add("state-2")
            text.innerHTML = text.innerHTML =
              "WHO COULD HAVE EXPECTED ALL THIS TEXT, THIS WILL BE A PROBLEM"
          }
        })
      })
    </script>
  </body>
</html>
